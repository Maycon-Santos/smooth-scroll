{"version":3,"sources":["init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"smooth-scroll.js","sourcesContent":["window.addEventListener('load', e => {\r\n    \r\n    const $smoothScrolls = document.querySelectorAll('[smooth-scroll]');\r\n\r\n    const dSpeed = 0.5;\r\n    const dFriction = 1;\r\n    const dSteps = 5;\r\n\r\n    for(let i = 0, l = $smoothScrolls.length; i < l; i++){\r\n\r\n        const target = $smoothScrolls[i];\r\n\r\n        let scrollingNow = false;\r\n\r\n        let speed = 0;\r\n        let friction = 0;\r\n        let steps = dSteps;\r\n\r\n        target.addEventListener('wheel', e => {\r\n\r\n            e.preventDefault();\r\n\r\n            const direction = e.deltaY / Math.abs(e.deltaY);\r\n\r\n            //if((direction > 0 && speed < dSpeed * 3) || (direction < 0 && speed > dSpeed * -3))\r\n                speed += dSpeed * direction;\r\n\r\n            console.log(speed);\r\n            friction = dFriction / 80;\r\n\r\n            let start = performance.now();\r\n\r\n            if(!scrollingNow) requestAnimationFrame(function scroll(time){\r\n\r\n                scrollingNow = true;\r\n\r\n                let deltaTime = (time - start) / 1000;\r\n                deltaTime = Math.min(1, deltaTime);\r\n\r\n                //let progress = deltaTime * speed;\r\n\r\n                cacheScrollTop = target.scrollTop;\r\n\r\n                target.scrollBy(0, speed * steps);\r\n\r\n                steps -= steps * friction;\r\n\r\n                if(~~steps > 0 && cacheScrollTop != target.scrollTop && target.scrollTop > 0)\r\n                    requestAnimationFrame(scroll);\r\n                else {\r\n                    scrollingNow = false;\r\n                    steps = dSteps;\r\n                    speed = 0;\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n});"]}