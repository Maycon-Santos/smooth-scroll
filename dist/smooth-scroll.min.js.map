{"version":3,"sources":["init.js"],"names":["window","addEventListener","e","$smoothScrolls","document","querySelectorAll","_loop","i","l","target","scrollingNow","speed","friction","steps","preventDefault","direction","deltaY","Math","abs","console","log","start","performance","now","requestAnimationFrame","scroll","time","deltaTime","min","cacheScrollTop","scrollTop","scrollBy","length"],"mappings":"aAAAA,OAAAC,iBAAA,OAAA,SAAAC,GAQA,IANA,IAAAC,EAAAC,SAAAC,iBAAA,mBAFAC,EAAA,SAQAC,EAAAC,GAEA,IAAAC,EAAAN,EAAAI,GAEAG,GAAA,EAEAC,EAAA,EACAC,EAAA,EACAC,EAVA,EAYAJ,EAAAR,iBAAA,QAAA,SAAAC,GAEAA,EAAAY,iBAEA,IAAAC,EAAAb,EAAAc,OAAAC,KAAAC,IAAAhB,EAAAc,QAGAL,GArBA,GAqBAI,EAEAI,QAAAC,IAAAT,GACAC,EAvBA,EAuBA,GAEA,IAAAS,EAAAC,YAAAC,MAEAb,GAAAc,sBAAA,SAAAC,EAAAC,GAEAhB,GAAA,EAEA,IAAAiB,GAAAD,EAAAL,GAAA,IACAM,EAAAV,KAAAW,IAAA,EAAAD,GAIAE,eAAApB,EAAAqB,UAEArB,EAAAsB,SAAA,EAAApB,EAAAE,GAIA,KAFAA,GAAAA,EAAAD,IAEAiB,gBAAApB,EAAAqB,WAAA,EAAArB,EAAAqB,UACAN,sBAAAC,IAEAf,GAAA,EACAG,EA7CA,EA8CAF,EAAA,QA5CAJ,EAAA,EAAAC,EAAAL,EAAA6B,OAAAzB,EAAAC,EAAAD,IAAAD,EAAAC","file":"smooth-scroll.min.js","sourcesContent":["window.addEventListener('load', e => {\r\n    \r\n    const $smoothScrolls = document.querySelectorAll('[smooth-scroll]');\r\n\r\n    const dSpeed = 0.5;\r\n    const dFriction = 1;\r\n    const dSteps = 5;\r\n\r\n    for(let i = 0, l = $smoothScrolls.length; i < l; i++){\r\n\r\n        const target = $smoothScrolls[i];\r\n\r\n        let scrollingNow = false;\r\n\r\n        let speed = 0;\r\n        let friction = 0;\r\n        let steps = dSteps;\r\n\r\n        target.addEventListener('wheel', e => {\r\n\r\n            e.preventDefault();\r\n\r\n            const direction = e.deltaY / Math.abs(e.deltaY);\r\n\r\n            //if((direction > 0 && speed < dSpeed * 3) || (direction < 0 && speed > dSpeed * -3))\r\n                speed += dSpeed * direction;\r\n\r\n            console.log(speed);\r\n            friction = dFriction / 80;\r\n\r\n            let start = performance.now();\r\n\r\n            if(!scrollingNow) requestAnimationFrame(function scroll(time){\r\n\r\n                scrollingNow = true;\r\n\r\n                let deltaTime = (time - start) / 1000;\r\n                deltaTime = Math.min(1, deltaTime);\r\n\r\n                //let progress = deltaTime * speed;\r\n\r\n                cacheScrollTop = target.scrollTop;\r\n\r\n                target.scrollBy(0, speed * steps);\r\n\r\n                steps -= steps * friction;\r\n\r\n                if(~~steps > 0 && cacheScrollTop != target.scrollTop && target.scrollTop > 0)\r\n                    requestAnimationFrame(scroll);\r\n                else {\r\n                    scrollingNow = false;\r\n                    steps = dSteps;\r\n                    speed = 0;\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n});"]}